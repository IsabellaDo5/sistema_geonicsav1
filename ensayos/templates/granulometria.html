{% extends "layout.html" %}
{% block title %}
Granulometria
{% endblock %}

{% block content %}

<h1> Granulometria </h1>
<form action="/granulometria/" method="POST">
  {% csrf_token %}

  <div class="row ">
    <div class="table-responsive">
      <table class="table table-bordered border-dark-subtle">
        <thead>
          <tr>
            <th scope="col">Malla</th>
            <th scope="col">Peso retenido parcial</th>
            <th scope="col">Porcentaje retenido parcial</th>
            <th scope="col">Porcentaje retenido acumulado</th>
            <th scope="col">Porcentaje que pasa</th>
          </tr>
        </thead>
        <tbody>
          {% for medida in mallas %}
          <tr>
            {% if medida.1 > 2 %}
            <th scope="row">{{ medida.0 }}</th>

            <td><input class="form-control" name="PRP" type="number" step="0.01" value=""
                aria-label="default input example" id="PRP{{medida.2}}"> </td>
            <td><input class="form-control" name="PeRP" type="number" step="0.01" value=""
                aria-label="default input example"></td>
            <td><input class="form-control" name="PeRA" type="number" step="0.01" value=""
                aria-label="default input example"></td>
            <td><input class="form-control" name="PQP" type="number" step="0.01" value=""
                aria-label="default input example"></td>
    
            {% endif %}
          </tr>
          {% endfor %}
          <tr>
            <th>Suma</th>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <br>
  <h3>Composición granulometrica del material tamizado por la malla número 40 por lavado.</h3>
  <div class="row">
    <div class="table-responsive ">
      <table class="table table-bordered border-dark-subtle">
        <thead>
          <tr>
            <th scope="col">Malla</th>
            <th scope="col">Peso retenido parcial</th>
            <th scope="col">Porcentaje retenido parcial</th>
            <th scope="col">Porcentaje retenido acumulado</th>
            <th scope="col">Porcentaje que pasa</th>
          </tr>
        </thead>
        <tbody>
          {% for x in mallas %}
          <tr>
            {% if x.1 < 4  %}
            <th scope="row">{{ x.0 }}</th>

            <td><input class="form-control" name="PRPL" type="number" min="0" step="0.01" value="" 
                aria-label="default input example"> </td>
            <td><input class="form-control" name="PeRPL" type="number" min="0" step="0.01" value="" 
                aria-label="default input example"></td>
            <td><input class="form-control" name="PeRAL" type="number" min="0" step="0.01" value="" 
                aria-label="default input example"></td>
            <td><input class="form-control" name="PQPL" type="number" min="0" step="0.01" value="" 
                aria-label="default input example"></td>
            {% endif %}
          </tr>
          {% endfor %}

        </tbody>
      </table>
    </div>
  </div>
  <!--Tercera tabla -->
  <div class="row ">
    <div class="col-md">

      <div class="table-responsive">
        <table class="table table-bordered border-dark-subtle">
          <tbody>

            <tr>
              <th scope="row">Peso seco (gr):</th>
              <td id="PS_GRANULOMETRIA"> hola</td>
            </tr>

            <tr>
              <th scope="row">Peso seco lavado (gr):</th>
              <td id="PSL_GRANULOMETRIA"> </td>
            </tr>

            <tr>
              <th scope="row">Diferencia (gr):</th>
              <td id="DIF_GRANULOMETRIA"> </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>

    <div class="col-md ">

      <div class="table-responsive">
        <table class="table table-bordered border-dark-subtle">
          <tbody>
            <tr>
              <th scope="row">% grava:</th>
              <td id="PCEG_GRANULOMETRIA"> </td>
            </tr>

            <tr>
              <th scope="row">% arena:</th>
              <td id="PCEA_GRANULOMETRIA"> </td>
            </tr>

            <tr>
              <th scope="row">% fino:</th>
              <td id="PCEF_GRANULOMETRIA"> </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btn-outline-success">Guardar</button>
</form>

{% endblock %}